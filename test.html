<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNT Professor's Rating</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Header Section -->
    <nav>
        <!-- Left Section: Hamburger Menu and Home Button -->
        <div class="left-section">
            <div class="hamburger">
                <div class="menuIcon">☰</div>
                <div class="closeIcon" style="display: none;">✖</div>
            </div>
            <button class="home-button" onclick="window.location.reload();">Home</button>
        </div>

        <!-- Center Section: UNT Logo -->
        <div class="center-section">
            <img src="Images/lettermark_wordmark_diving_eagle_combo_green.svg" alt="UNT Logo" class="logo">
        </div>

        <!-- Right Section: Report Issue and Login Buttons -->
        <div class="right-section">
            <button>Report Issue</button>
            
            <!-- Login Button -->
            <button id="loginButton">Login</button>

            <!-- Login Modal -->
            <div id="loginModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>Login with Certificate</h2>
                    <form id="loginForm">
                        <label for="username">Username:</label><br>
                        <input type="text" id="username" name="username" required><br><br>
                        <button type="submit">Login</button>
                    </form>
                    <div id="loginMessage"></div>
                </div>
            </div>

        </div>
    </nav>

    <!-- Hamburger Menu Dropdown -->
    <ul class="menu" style="display: none;">
        <li class="menuItem">Home</li>
        <li class="menuItem">College Majors</li>
        <li class="menuItem">Report Page</li>
        <li class="menuItem">Services</li>
        <li class="menuItem">Contact</li>
    </ul>

    <!-- Carousel Section -->
    <div class="carousel-container">
        <div class="slides" id="slides">
            <div class="slide"><img src="https://via.placeholder.com/1500x400/ff7f7f/333?text=Slide+1" alt="Slide 1"></div>
            <div class="slide"><img src="https://via.placeholder.com/1500x400/7f7fff/333?text=Slide+2" alt="Slide 2"></div>
            <div class="slide"><img src="https://via.placeholder.com/1500x400/7fff7f/333?text=Slide+3" alt="Slide 3"></div>
        </div>
        <div class="prev" onclick="moveSlides(-1)">❮</div>
        <div class="next" onclick="moveSlides(1)">❯</div>
    </div>

    <!-- Professor Ratings Section -->
    <div id="professor-container">
        <h2>Professor Ratings</h2>
        <div id="professor-data">
            <!-- Professor information and ratings will be displayed here -->
        </div>
    </div>

    <script src="hamburger.js"></script>
    <script>
        const professorId = "67284491a13432c980f1d8d4"; // Example professor ID
    
        async function loadProfessorData() {
            try {
                const response = await fetch(`http://localhost:3000/professor/${professorId}`);
                if (!response.ok) throw new Error(`HTTP error ${response.status}: ${response.statusText}`);
                
                const data = await response.json();
                console.log("Fetched professor data:", data); // Log the data for debugging
    
                const professorContainer = document.getElementById("professor-data");
                professorContainer.innerHTML = `
                    <h3>${data.name}</h3>
                    <p><strong>Department:</strong> ${data.department}</p>
                    <p><strong>Email:</strong> ${data.email}</p>
                    <h4>Ratings:</h4>
                    <ul>
                        ${data.ratings.map(rating => `
                            <li>
                                <strong>Rating:</strong> ${rating.rating} <br>
                                <strong>Comment:</strong> ${rating.comment}
                            </li>
                        `).join('')}
                    </ul>
                `;
            } catch (error) {
                console.error('Error fetching professor data:', error);
                document.getElementById("professor-data").innerHTML = `<p>Error loading professor data: ${error.message}</p>`;
            }
        }
    
        loadProfessorData();
    
        // Carousel functionality
        let slideIndex = 0;
    
        function moveSlides(step) {
            slideIndex = (slideIndex + step + 3) % 3;
            document.getElementById('slides').style.transform = `translateX(-${slideIndex * 100}%)`;
        }
    
        function autoSlide() {
            moveSlides(1);
        }
    
        setInterval(autoSlide, 10000);
    </script>    
</body>
</html>
